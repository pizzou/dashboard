"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{87263:function(e,t,a){a.d(t,{Z:function(){return m}});var s=a(57437),r=a(2265),i=a(6435),n=a(36820);let c=()=>{let[e,t]=(0,r.useState)(!1),{theme:a,setTheme:c}=(0,i.F)();return((0,r.useEffect)(()=>t(!0),[]),e)?(0,s.jsx)("div",{className:"flex items-center justify-center mx-4",children:"light"===a?(0,s.jsx)(n.dZ3,{className:"cursor-pointer",fill:"black",size:25,onClick:()=>c("dark")}):(0,s.jsx)(n.JuG,{size:25,className:"cursor-pointer",onClick:()=>c("light")})}):null};var l=a(10273);let o=l.gk.injectEndpoints({endpoints:e=>({getAllNotifications:e.query({query:()=>({url:"get-all-notifications",method:"GET",credentials:"include"})}),updateNotificationStatus:e.mutation({query:e=>({url:"/update-notification/".concat(e),method:"PUT",credentials:"include"})})})}),{useGetAllNotificationsQuery:x,useUpdateNotificationStatusMutation:d}=o;var f=a(52410),p=a(63388),h=a(40887);let u=(0,p.ZP)("http://localhost:8000/api/v1",{transports:["websocket"]});var m=e=>{let{open:t,setOpen:a}=e,{data:i,refetch:n}=x(void 0,{refetchOnMountOrArgChange:!0}),[l,{isSuccess:o}]=d(),[p,m]=(0,r.useState)([]),[k]=(0,r.useState)(new Audio("https://res.cloudinary.com/dkg6jv4l0/video/upload/v1716750964/notification_jvwqd0.mp3")),j=()=>{k.play()};(0,r.useEffect)(()=>{i&&m(i.notifications.filter(e=>"unread"===e.status)),o&&n(),k.load()},[i,o,k]),(0,r.useEffect)(()=>{u.on("newNotification",e=>{n(),j()})},[]);let b=async e=>{await l(e)};return(0,s.jsxs)("div",{className:"w-full flex items-center justify-end p-6 fixed top-5 right-0 z-[9999999]",children:[(0,s.jsx)(c,{}),(0,s.jsxs)("div",{className:"relative cursor-pointer m-2",onClick:()=>a(!t),children:[(0,s.jsx)(f.G58,{className:"text-2xl cursor-pointer dark:text-white text-black"}),(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-[#3ccba0] rounded-full w-[20px] h-[20px] text-[12px] flex items-center justify-center text-white",children:p&&p.length})]}),t&&(0,s.jsxs)("div",{className:"w-[350px] h-[60vh] overflow-y-scroll py-3 px-2 border border-[#ffffff0c] dark:bg-[#111C43] bg-white shadow-xl absolute top-16 z-[1000000000] rounded",children:[(0,s.jsx)("h5",{className:"text-center text-[20px] font-Poppins text-black dark:text-white p-3",children:"Notifications"}),p&&p.map((e,t)=>(0,s.jsxs)("div",{className:"dark:bg-[#2d3a4e] bg-[#00000013] font-Poppins border-b dark:border-b-[#ffffff47] border-b-[#0000000f]",children:[(0,s.jsxs)("div",{className:"w-full flex items-center justify-between p-2",children:[(0,s.jsx)("p",{className:"text-black dark:text-white",children:e.title}),(0,s.jsx)("p",{className:"text-black dark:text-white cursor-pointer",onClick:()=>b(e._id),children:"Mark as read"})]}),(0,s.jsx)("p",{className:"px-2 text-black dark:text-white",children:e.message}),(0,s.jsx)("p",{className:"p-2 text-black dark:text-white text-[14px]",children:(0,h.WU)(e.createdAt)})]},t))]})]})}},98350:function(e,t,a){a.d(t,{Z:function(){return q}});var s=a(57437),r=a(2265),i=a(64900),n=a(43226),c=a(96507),l=a(52653),o=a(65101),x=a(15014),d=a(50924),f=a(51992),p=a(76928),h=a(6151),u=a(70921),m=a(67377),k=a(84329),j=a(47135),b=a(56397),v=a(35004),g=a(82182),N=a(58906),w=a(25238),A={src:"/_next/static/media/avatar.9f7dd818.png",height:150,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA90lEQVR42mMAgbiMVk334IqDjv5lv0AYxAaJATEDQ1JOu6ZXeNW7ioap/09fuPrv9MWr/0BskBhIjiEmreWghUfR//Vb9//8+O3b/4/fvv4HsUFiIDmGqJSmX5aexf93Hzzx79X7D/9ff/jwf8+hk/9ACqJSmn8xRCY3/bL3Lf2/bM32fyDJl+/e/5+3ZOM/p4Dy/xFAOZCCg27BFf/dgit/Pn7x8v/1O/f/S5pk/fSNrPkfntR4kEHNOkczv6L/LdDY/8/fvP3/5OWr/1t2HfqfU9r3Vs8xX5MBBF68faf57vPng0AFv168ffsLxH74/IXmw+cvGAAx6qASJMiumAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},Z=a(81023),y=a(61396),C=a.n(y),S=a(16691),E=a.n(S),T=a(6435),z=a(11490);let D=e=>{let{title:t,to:a,icon:r,selected:c,setSelected:l}=e;return(0,s.jsx)(i.sN,{active:c===t,onClick:()=>l(t),icon:r,className:"hover:!bg-[unset]",children:(0,s.jsx)(C(),{href:a,className:"hover:!bg-[unset]",children:(0,s.jsx)(n.Z,{className:"!text-[16px] !font-Poppins text-black dark:text-white",children:t})})})};var q=()=>{let{user:e}=(0,Z.v9)(e=>e.auth),[t,a]=(0,r.useState)(!1),[y,S]=(0,r.useState)(!1),[q,L]=(0,r.useState)("Dashboard"),[P,U]=(0,r.useState)(!1),{theme:O,setTheme:M}=(0,T.F)();if((0,r.useEffect)(()=>U(!0),[]),!P)return null;let I=async()=>{z.Z.remove("accessToken"),z.Z.remove("refreshToken"),window.location.reload()};return(0,s.jsx)(c.Z,{sx:{"& .pro-sidebar-inner":{background:"".concat("dark"===O?"#111C43 !important":"#fff !important")},"& .pro-icon-wrapper":{backgroundColor:"transparent !important"},"& .pro-inner-item:hover":{color:"#868dfb !important"},"& .pro-menu-item.active":{color:"#6870fa !important"},"& .pro-inner-item":{padding:"5px 35px 5px 20px !important",opacity:1},"& .pro-menu-item":{color:"".concat("dark"!==O&&"#000")}},className:"!bg-white dark:bg-[#111C43]",children:(0,s.jsx)(i.YE,{collapsed:y,style:{position:"fixed",top:0,left:0,height:"100vh",zIndex:99999999999999,width:y?"0%":"16%"},children:(0,s.jsxs)(i.v2,{children:[(0,s.jsx)(i.sN,{onClick:()=>S(!y),icon:y?(0,s.jsx)(o.Z,{}):void 0,style:{margin:"10px 0 20px 0"},children:!y&&(0,s.jsxs)(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",ml:"15px",children:[(0,s.jsx)(C(),{href:"/",className:"block",children:(0,s.jsx)("h3",{className:"text-[25px] font-Poppins uppercase dark:text-white text-black",children:"ELearning"})}),(0,s.jsx)(l.Z,{onClick:()=>S(!y),className:"inline-block",children:(0,s.jsx)(x.Z,{className:"text-black dark:text-[#ffffffc1]"})})]})}),!y&&(0,s.jsxs)(c.Z,{mb:"25px",children:[(0,s.jsx)(c.Z,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,s.jsx)(E(),{alt:"profile-user",width:100,height:100,src:e.avatar?e.avatar.url:A,style:{cursor:"pointer",borderRadius:"50%",border:"3px solid #5b6fe6"}})}),(0,s.jsxs)(c.Z,{textAlign:"center",children:[(0,s.jsx)(n.Z,{variant:"h4",className:"!text-[20px] text-black dark:text-[#ffffffc1]",sx:{m:"10px 0 0 0"},children:null==e?void 0:e.name}),(0,s.jsxs)(n.Z,{variant:"h6",sx:{m:"10px 0 0 0"},className:"!text-[20px] text-black dark:text-[#ffffffc1] capitalize",children:["- ",null==e?void 0:e.role]})]})]}),(0,s.jsxs)(c.Z,{paddingLeft:y?void 0:"10%",children:[(0,s.jsx)(D,{title:"Dashboard",to:"/admin",icon:(0,s.jsx)(d.Z,{}),selected:q,setSelected:L}),(0,s.jsx)(n.Z,{variant:"h5",sx:{m:"15px 0 5px 25px"},className:"!text-[18px] text-black dark:text-[#ffffffc1] capitalize !font-[400]",children:!y&&"Data"}),(0,s.jsx)(D,{title:"Users",to:"/admin/users",icon:(0,s.jsx)(f.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(D,{title:"Invoices",to:"/admin/invoices",icon:(0,s.jsx)(p.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(n.Z,{variant:"h5",className:"!text-[18px] text-black dark:text-[#ffffffc1] capitalize !font-[400]",sx:{m:"15px 0 5px 20px"},children:!y&&"Content"}),(0,s.jsx)(D,{title:"Create Course",to:"/admin/create-course",icon:(0,s.jsx)(h.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(D,{title:"Live Courses",to:"/admin/courses",icon:(0,s.jsx)(u.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(n.Z,{variant:"h5",className:"!text-[18px] text-black dark:text-[#ffffffc1] capitalize !font-[400]",sx:{m:"15px 0 5px 20px"},children:!y&&"Customization"}),(0,s.jsx)(D,{title:"Hero",to:"/admin/hero",icon:(0,s.jsx)(m.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(D,{title:"FAQ",to:"/admin/faq",icon:(0,s.jsx)(k.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(D,{title:"Categories",to:"/admin/categories",icon:(0,s.jsx)(j.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(n.Z,{variant:"h5",className:"!text-[18px] text-black dark:text-[#ffffffc1] capitalize !font-[400]",sx:{m:"15px 0 5px 20px"},children:!y&&"Controllers"}),(0,s.jsx)(D,{title:"Manage Team",to:"/admin/team",icon:(0,s.jsx)(b.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(n.Z,{variant:"h6",className:"!text-[18px] text-black dark:text-[#ffffffc1] capitalize !font-[400]",sx:{m:"15px 0 5px 20px"},children:!y&&"Analytics"}),(0,s.jsx)(D,{title:"Courses Analytics",to:"/admin/courses-analytics",icon:(0,s.jsx)(v.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(D,{title:"Orders Analytics",to:"/admin/orders-analytics",icon:(0,s.jsx)(g.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(D,{title:"Users Analytics",to:"/admin/users-analytics",icon:(0,s.jsx)(N.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L}),(0,s.jsx)(n.Z,{variant:"h6",className:"!text-[18px] text-black dark:text-[#ffffffc1] capitalize !font-[400]",sx:{m:"15px 0 5px 20px"},children:!y&&"Extras"}),(0,s.jsx)("div",{onClick:I,children:(0,s.jsx)(D,{title:"Logout",to:"/",icon:(0,s.jsx)(w.Z,{className:"text-black dark:text-white"}),selected:q,setSelected:L})})]})]})})})}},84762:function(e,t,a){var s=a(57437);a(2265),t.Z=e=>{let{title:t,description:a,keywords:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("title",{children:t}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("meta",{name:"description",content:a}),(0,s.jsx)("meta",{name:"keywords",content:r})]})}},10273:function(e,t,a){a.d(t,{Ac:function(){return o},gk:function(){return c}});var s=a(38324),r=a(52967),i=a(27415),n=a(11490);let c=(0,s.LC)({reducerPath:"api",baseQuery:(0,r.ni)({baseUrl:"http://localhost:8000/api/v1",prepareHeaders:e=>{let t=n.Z.get("accessToken"),a=n.Z.get("refreshToken");return t&&e.set("access-token",t),a&&e.set("refresh-token",a),e}}),endpoints:e=>({refreshToken:e.query({query:e=>({url:"refresh",method:"GET",credentials:"include"})}),loadUser:e.query({query:e=>({url:"me",method:"GET",credentials:"include"}),async onQueryStarted(e,t){let{queryFulfilled:a,dispatch:s}=t;try{let e=await a;s((0,i.nD)({accessToken:e.data.accessToken,refreshToken:e.data.refreshToken,user:e.data.user}))}catch(e){console.log(e)}}})})}),{useRefreshTokenQuery:l,useLoadUserQuery:o}=c},27415:function(e,t,a){a.d(t,{_e:function(){return c},f0:function(){return i},nD:function(){return n}});var s=a(24302);let r=(0,s.oM)({name:"auth",initialState:{token:"",user:""},reducers:{userRegistration:(e,t)=>{e.token=t.payload.token},userLoggedIn:(e,t)=>{e.token=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.user=t.payload.user},userLoggedOut:e=>{e.token="",e.user=""}}}),{userRegistration:i,userLoggedIn:n,userLoggedOut:c}=r.actions;t.ZP=r.reducer}}]);