(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{19944:function(e,t,i){Promise.resolve().then(i.bind(i,28505))},28505:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var s=i(57437),n=i(2265),r=i(98350),a=i(84762),l=i(87263),c=i(3583),o=i(37098),d=i(66443),u=i(24619),m=i(51539),v=i(22626),g=i(5925),h=i(24033),p=e=>{let{id:t}=e,[i,{isSuccess:r,error:a}]=(0,v.h4)(),{data:l,refetch:p}=(0,v.zk)({},{refetchOnMountOrArgChange:!0}),f=l&&l.courses.find(e=>e._id===t);(0,n.useEffect)(()=>{r&&(g.toast.success("Course Updated successfully"),(0,h.redirect)("/admin/courses")),a&&"data"in a&&g.toast.error(a.data.message)},[r,a]);let[x,j]=(0,n.useState)(0);(0,n.useEffect)(()=>{if(f){var e;S({name:f.name,description:f.description,price:f.price,estimatedPrice:null==f?void 0:f.estimatedPrice,tags:f.tags,level:f.level,categories:f.categories,demoUrl:f.demoUrl,thumbnail:null==f?void 0:null===(e=f.thumbnail)||void 0===e?void 0:e.url}),C(f.benefits),U(f.prerequisites),E(f.courseData)}},[f]);let[b,S]=(0,n.useState)({name:"",description:"",price:"",estimatedPrice:"",tags:"",level:"",categories:"",demoUrl:"",thumbnail:""}),[w,C]=(0,n.useState)([{title:""}]),[N,U]=(0,n.useState)([{title:""}]),[k,E]=(0,n.useState)([{videoUrl:"",title:"",description:"",videoSection:"Untitled Section",videoLength:"",links:[{title:"",url:""}],suggestion:""}]),[P,Z]=(0,n.useState)({}),_=async()=>{let e=w.map(e=>({title:e.title})),t=N.map(e=>({title:e.title})),i=k.map(e=>({videoUrl:e.videoUrl,title:e.title,description:e.description,videoSection:e.videoSection,videoLength:e.videoLength,links:e.links.map(e=>({title:e.title,url:e.url})),suggestion:e.suggestion})),s={name:b.name,description:b.description,categories:b.categories,price:b.price,estimatedPrice:b.estimatedPrice,tags:b.tags,thumbnail:b.thumbnail,level:b.level,demoUrl:b.demoUrl,benefits:e,prerequisites:t,courseData:i};Z(s)},A=async e=>{console.log(P),await i({id:null==f?void 0:f._id,data:P})};return(0,s.jsxs)("div",{className:"w-full flex min-h-screen",children:[(0,s.jsxs)("div",{className:"w-[80%]",children:[0===x&&(0,s.jsx)(c.Z,{courseInfo:b,setCourseInfo:S,active:x,setActive:j}),1===x&&(0,s.jsx)(d.Z,{benefits:w,setBenefits:C,prerequisites:N,setPrerequisites:U,active:x,setActive:j}),2===x&&(0,s.jsx)(u.Z,{active:x,setActive:j,courseContentData:k,setCourseContentData:E,handleSubmit:_}),3===x&&(0,s.jsx)(m.Z,{active:x,setActive:j,courseData:P,handleCourseCreate:A,isEdit:!0})]}),(0,s.jsx)("div",{className:"w-[20%] mt-[100px] h-screen fixed z-[-1] top-18 right-0",children:(0,s.jsx)(o.Z,{active:x,setActive:j})})]})},f=e=>{let{params:t}=e,i=null==t?void 0:t.id;return(0,s.jsxs)("div",{children:[(0,s.jsx)(a.Z,{title:"Elearning - Admin",description:"ELearning is a platform for students to learn and get help from teachers",keywords:"Prograaming,MERN,Redux,Machine Learning"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"1500px:w-[16%] w-1/5",children:(0,s.jsx)(r.Z,{})}),(0,s.jsxs)("div",{className:"w-[85%]",children:[(0,s.jsx)(l.Z,{}),(0,s.jsx)(p,{id:i})]})]})]})}}},function(e){e.O(0,[115,400,805,712,582,447,190,215,702,724,930,61,566,971,596,744],function(){return e(e.s=19944)}),_N_E=e.O()}]);